<div id="gameScreen">
    <div id="gameContainer" class="tilt">

        <div id="countdownModal" class="modal hidden">
            <div class="modal-content">
                <h2 id="countdownText" class="neon-text">3</h2>
            </div>
        </div>

        <div id="difficultyModal" class="modal hidden">
            <div class="modal-content">
                <h2 class="neon-text">Select your Difficulty</h2>
                <div id="difficultyButtons">
                    <button id="easySelect" class="neon-btn diff-btn">Easy</button>
                    <button id="normalSelect" class="neon-btn diff-btn">Normal</button>
                    <button id="hardSelect" class="neon-btn diff-btn">Hard</button>
                </div>

                <div class="rounds-row">
                    <span class="rounds-label neon-text"> ROUNDS: </span>
                    <select id="roundSelect" class="rounds-select">
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5" selected>5</option>
                        <option value="6">6</option>
                        <option value="7">7</option>
                        <option value="8">8</option>
                        <option value="9">9</option>
                        <option value="10">10</option>
                        <option value="11">11</option>
                        <option value="12">12</option>
                        <option value="13">13</option>
                        <option value="14">14</option>
                        <option value="15">15</option>
                    </select>
                </div>

                <p id="rulesLine" class="rules-line">
                    First to <span id="ruleRounds">5</span> points wins! ‚Ä¢ MODE: <span id="rulesMode">Normal</span>
                </p>
                <br>

                <button id="difficultyStartBtn" class="neon-btn large">START MATCH</button>
            </div>
        </div>

        <canvas id="shareCardCanvas" width="900" height="500" style="display: none;"></canvas>

        <div id="topBar">
            <div id="rallyDisplay" class="neon-text">
                Rally: <span id="rallyCount">0</span>
            </div>
            <div id="topRightControls">
                <button id="backBtn" class="neon-btn">BACK</button>
                <button id="muteBtn" class="neon-btn small-icon">üîä</button>
                <div id="optionsBtn" class="neon-btn small-icon">‚öôÔ∏è</div>
                <div id="optionsPanel" class="options-panel hidden">
                    <div class="option-row">
                        <label>Voice Effects</label>
                        <div class="toggle-switch">
                            <input type="checkbox" id="ttsToggle" checked>
                            <span class="slider"></span>
                        </div>
                    </div>
                    <div class="option-row">
                        <label>SFX Volume</label>
                        <input type="range" id="sfxVolume" min="0" max="1" step="0.1" value="0.5">
                        <span id="sfxVolumeValue">50%</span>
                    </div>
                    <div class="option-row">
                        <label>Sound Effects (SFX)</label>
                        <div class="toggle-switch">
                            <input type="checkbox" id="sfxToggle">
                            <span class="slider"></span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <span id="bestRallyEver" class="neon-text">LONGEST RALLY: 0</span>

        <div id="scoreBoard" class="neon-text">
            <span id="playerScore">0</span> | <span id="computerScore">0</span>
        </div>

        <div id="playfieldWrapper">
            <div id="pausedOverlay" class="hidden">
                <div class="paused-backdrop"></div>
                <div class="paused-text neon-text">PAUSED</div>
            </div>

            <div id="rallyHype" class="rally-hype hidden">
                <span id="rallyHypeText">RALLY GETTING INTENSE!</span>
            </div>

            <canvas id="gameCanvas" width="800" height="450"></canvas>

        </div>
        <div id="modeLabel" class="mode-label">
            MODE: NORMAL ‚Ä¢ FIRST TO REACH 5 WINS!
        </div>
        <br>
        <br>
        <div id="proTipLine" class="pro-tip-line">
            <strong class="pro-tip-prefix">Did you know? </strong><br>
            <span id="proTipText"></span>
            <span class="pro-tip-cursor">|</span>
        </div>

        <div id="controls">
            <button id="startBtn" class="neon-btn">Start</button>
            <button id="pauseBtn" class="neon-btn" disabled>Pause</button>
            <button id="resetBtn" class="neon-btn">Reset</button>
        </div>
        <div id="loveText" class="neon-text" style="margin-top:34px; font-size:1.3rem;">
            Made with ‚ù§Ô∏è by Pulkit Singh
        </div>
        <div id="gameOverModal" class="modal hidden">
            <div class="modal-content">
                <h2 id="modalTitle" class="neon-text"></h2>
                <p id="matchSummary" class="neon-text small-summary"></p>

                <div id="gameOverStats" class="score-grid">
                    <div class="score-label">RESULT</div>
                    <div class="score-value" id="summaryResult"></div>

                    <div class="score-label">SCORE</div>
                    <div class="score-value" id="summaryScore"></div>

                    <div class="score-label">RALLIES</div>
                    <div class="score-value" id="summaryRallies"></div>

                    <div class="score-label">MODE</div>
                    <div class="score-value" id="modalDifficulty"></div>

                    <div class="score-label">ALL TIME LONGEST RALLY</div>
                    <div class="score-value" id="summaryBestRally"></div>
                </div>

                <div id="badgeRow">
                    <span id="newBestBadge" class="badge hidden">NEW LONGEST RALLY!</span>
                    <span id="perfectBadge" class="badge hidden">PERFECT GAME</span>
                    <span id="cleanSheetBadge" class="badge hidden">CLEAN SHEET</span>
                    <span id="marathonBadge" class="badge hidden">MARATHON RALLY</span>
                </div>

                <div class="modal-buttons">
                    <button id="playAgainBtn" class="neon-btn large">Play again</button>
                    <button id="downloadCardBtn" class="neon-btn large">Download Score Card</button>
                    <button id="modalBackBtn" class="neon-btn secondary large">Back</button>
                </div>
            </div>
        </div>
    </div>
</div>